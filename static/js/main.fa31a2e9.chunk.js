(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,a,t){e.exports=t.p+"static/media/logo.806430aa.png"},141:function(e,a,t){e.exports=t(335)},146:function(e,a,t){},147:function(e,a,t){},246:function(e,a,t){},277:function(e,a){},279:function(e,a){},320:function(e,a){},321:function(e,a){},323:function(e,a){function t(e){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=323},330:function(e,a,t){},335:function(e,a,t){"use strict";t.r(a);var r=t(140),s=t(23),n=t(0),l=t.n(n),i=t(22),o=t.n(i),c=(t(146),t(6)),m=t(7),u=t(10),d=t(8),p=t(11),h=t(12),v=(t(147),t(97)),f=t.n(v),g=(t(245),t(25)),b=(t(246),t(247),t(20)),E=t.n(b),N="https://musichuntpro.herokuapp.com",y=function(e){return E.a.post(N+"/users/login",{userName:e.userName,password:e.password}).then(function(e){return void 0!==e.data.token&&void 0===e.data.error&&localStorage.setItem("musicHunt",e.data.token),e.data}).catch(function(e){return e})},w=function(e){return E.a.post(N+"/tracks/setFavouriteByUser",{userName:e.userName,albumIds:e.albumId}).then(function(e){return void 0!==e.data&&void 0===e.data.error?e:e.data}).catch(function(e){return e})},S=function(e){return E.a.post(N+"/tracks/removeFavouriteByUser",{userName:e.userName,albumId:e.albumId}).then(function(e){return e})},k=function(e){return E.a.get(N+"/tracks/getFavouriteByUser",{params:{userName:e.userName}}).then(function(e){return e.data})},P=function(e){return E.a.get(N+"/users/profile",{params:{userName:e}}).then(function(e){return e.data})},O=function(e){return E.a.post(N+"/users/setProfileDetails",{username:void 0!==localStorage.getItem("musicHuntUser")?localStorage.getItem("musicHuntUser"):"",changedusername:e.userName,profile_img:e.profile_image,changedPassword:e.changedPassword}).then(function(e){return localStorage.clear(),localStorage.setItem("musicHuntUser",e.data.userName),localStorage.setItem("musicHuntUserProfile",e.data.profile_img),e})},_=function(e){return E.a.get(N+"/getAllTracksByAlbumId",{params:{albumId:e}}).then(function(e){return void 0===e.data.body||null===e.data.body?"Server Down":e.data.body})},C=function(e){return E.a.post(N+"/users/register",{firstName:e.firstName,lastName:e.lastName,userName:e.userName,email:e.email,password:e.password,profile_img:e.profile_img}).then(function(e){return e})},D=t(44),L=t.n(D),F=t(69),j=t.n(F),A=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).toggleActive=function(e){"login"===e?t.setState({isLogin:!0}):t.setState({isLogin:!1})},t.userRegister=function(e){e.preventDefault(),""!==t.state.preview_img?j()(t.state.preview_img).then(function(e){var a={firstName:t.state.firstName,lastName:t.state.lastName,userName:t.state.userName,email:t.state.email,password:t.state.password,profile_img:e};C(a).then(function(e){void 0!==e.data.error&&h.b.error("Username Already Exists",{position:h.b.POSITION.TOP_RIGHT}),void 0!==e.data.status&&(h.b.success("Registered Successfully Login To Continue",{position:h.b.POSITION.TOP_RIGHT}),t.setState({isLogin:!0}))})}):t.setState({error:"Please Upload Image"})},t.updateValue=function(e){t.setState(Object(g.a)({},e.target.name,e.target.value))},t.onFilesChange=function(e){console.log(e[e.length-1]),t.setState({preview_img:e[e.length-1].preview.url})},t.userLogin=function(e){e.preventDefault();var a={userName:t.state.userName,password:t.state.password};y(a).then(function(e){void 0===e?t.notifyError():void 0!==e.error?h.b.error(e.error,{position:h.b.POSITION.TOP_RIGHT}):(console.log(e.userDetails),localStorage.setItem("musicHuntUser",e.userDetails.userName),localStorage.setItem("musicHuntUserProfile",e.userDetails.profile_img),t.setState({isUserActive:!0}))})},t.notifyError=function(){h.b.error("Invalid Login",{position:h.b.POSITION.TOP_RIGHT})},t.state={isUserActive:!1,isLogin:!0,firstName:"",lastName:"",userName:"",password:"",email:"",profile_img:"",preview_img:"",error:""},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this,a={background:this.state.isLogin?"#777":"",color:this.state.isLogin?"white":"black"},t={background:this.state.isLogin?"":"#777",color:this.state.isLogin?"black":"white"};return l.a.createElement("div",{className:"app-main"},l.a.createElement("div",{className:"modal",id:"myModal"},l.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"mx-auto"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"row text-center log-reg-btn"},l.a.createElement("div",{className:"col",onClick:function(){e.toggleActive("login")},style:a},"Login"),l.a.createElement("div",{className:"col",onClick:function(){e.toggleActive("register")},style:t},"SignUp")),l.a.createElement("hr",null)),this.state.isLogin?l.a.createElement("div",{className:"login-main mx-auto"},l.a.createElement("form",{onSubmit:this.userLogin},l.a.createElement("div",{className:"form-group form-inline"},l.a.createElement("label",{htmlFor:"uname"},"Username"),l.a.createElement("input",{type:"text",className:"form-control",id:"uname",placeholder:"Enter username",onChange:this.updateValue,name:"userName",autoComplete:"current-username",required:!0})),l.a.createElement("div",{className:"form-group form-inline"},l.a.createElement("label",{htmlFor:"pwd"},"Password"),l.a.createElement("input",{type:"password",className:"form-control",id:"pwd",placeholder:"Enter password",onChange:this.updateValue,name:"password",autoComplete:"new-password",required:!0})),l.a.createElement("div",{className:"form-group form-check form-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"remember"})," Lazy to remember password")),l.a.createElement("div",{className:"form-group text-center"},l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"LOGIN")))):l.a.createElement("div",{className:"signup-main mx-auto"},l.a.createElement("form",{onSubmit:this.userRegister},l.a.createElement("div",{className:"form-group row"},""!==this.state.preview_img?l.a.createElement("img",{src:this.state.preview_img,className:"preview-img rounded-circle mx-auto",alt:"upload_image"}):""),l.a.createElement("div",{className:"form-group form-inline"},l.a.createElement("label",{htmlFor:"fname"},"First Name"),l.a.createElement("input",{type:"text",className:"form-control ml-auto",id:"fname",placeholder:"Enter FirstName",onChange:this.updateValue,name:"firstName",required:!0})),l.a.createElement("div",{className:"form-group form-inline"},l.a.createElement("label",{htmlFor:"lname"},"LastName"),l.a.createElement("input",{type:"text",className:"form-control ml-auto",id:"lname",placeholder:"Enter LastName",onChange:this.updateValue,name:"lastName",required:!0})),l.a.createElement("div",{className:"form-group form-inline"},l.a.createElement("label",{htmlFor:"uname"},"Username"),l.a.createElement("input",{type:"text",className:"form-control ml-auto",id:"uname",placeholder:"Enter username",onChange:this.updateValue,name:"userName",required:!0})),l.a.createElement("div",{className:"form-group form-inline"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",className:"form-control ml-auto",id:"email",placeholder:"Enter Email",onChange:this.updateValue,name:"email",required:!0})),l.a.createElement("div",{className:"form-group form-inline"},l.a.createElement("label",{htmlFor:"pwd"},"Password"),l.a.createElement("input",{type:"password",className:"form-control ml-auto",id:"pwd",placeholder:"Enter password",onChange:this.updateValue,name:"password",required:!0})),l.a.createElement("div",{className:"form-group form-inline"},l.a.createElement("label",{htmlFor:"rpwd"},"Confirm Password"),l.a.createElement("input",{type:"password",className:"form-control ml-auto",id:"rpwd",placeholder:"Re enter password",name:"pswd",required:!0})),l.a.createElement("div",{className:"form-group form-inline"},l.a.createElement(L.a,{className:"files-dropzone btn btn-primary",onChange:this.onFilesChange,onError:this.onFilesError,accepts:["image/*"],multiple:!0,maxFiles:3,maxFileSize:1e7,minFileSize:0,clickable:!0},"Upload Photo"),l.a.createElement("div",null,this.state.error)),l.a.createElement("div",{className:"form-group form-check form-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"remember"})," Lazy to remember password")),l.a.createElement("div",{className:"form-group text-center"},l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))))))))))))}}]),a}(n.Component),x=t(28),T=t.n(x),I=t(53),U=(t(330),t(331),t(33)),H=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).songControls=function(e){console.log("playing");var a=t.state.songSrc;switch(e){case"play":a.play(),a.volume=t.state.volume,t.setState({isPlaying:!1});break;case"pause":a.pause(),t.setState({isPlaying:!0})}},t.setVolume=function(e){t.state.songSrc.volume=e,t.setState({volume:e})},t.setFav=function(e){"fav"===e?t.setState({isFavourite:!0}):t.setState({isFavourite:!1})},t.timeUpdate=function(){setInterval(function(){t.currentTime<t.totalTime&&t.setState({currentTime:t.state.currentTime+1})},1e3)},t.addPlayListToPlayer=function(e,a,r,s){var n={name:e,singer:a,cover:r,musicSrc:s+"/download"};t.props.setPlayList(n)},t.play=function(e,a,r,s){var n={name:e,singer:a,cover:r,musicSrc:s+"/download"};t.props.setSongsList(n)},t.state={isPlaying:!0,currentTime:"00:00",totalTime:"00:00",isMuted:!1,isFavourite:!1,volume:"1",songSrc:new Audio(t.props.songData.track_url+"/download")},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"row music-player"},l.a.createElement("div",{className:"col"},l.a.createElement("img",{className:"music-img",src:this.props.songData.track_image_file,alt:"img"})),l.a.createElement("div",{className:"col"},this.props.songData.track_title),l.a.createElement("div",{className:"col"},this.props.songData.album_title),l.a.createElement("div",{className:"col",onClick:this.play.bind(this,this.props.songData.track_title,this.props.songData.artist_name,this.props.songData.track_image_file,this.props.songData.track_url)},l.a.createElement("i",{className:"fa fa-play","aria-hidden":"true"})),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"dropdown"},l.a.createElement("div",{"data-toggle":"dropdown"},l.a.createElement("i",{className:"fa fa-ellipsis-v"})),l.a.createElement("div",{className:"dropdown-menu"},l.a.createElement("a",{className:"dropdown-item",href:"/",onClick:this.addPlayListToPlayer.bind(this,this.props.songData.track_title,this.props.songData.artist_name,this.props.songData.track_image_file,this.props.songData.track_url)},"Add To PlayList"),l.a.createElement("a",{className:"dropdown-item",href:"/"},"Download ")))))}}]),a}(n.Component),R=Object(U.b)(function(e){return{musicPlayListReducer:e.musicPlayListReducer}},function(e){return{setCurrent:function(a){e({type:"SET_CURRENT",payload:a})},setPlayList:function(a){e({type:"SET_PLAYLIST",payload:a})},setSongsList:function(a){e({type:"SET_SONGSLIST",payload:a})}}})(H),M=t(27),z=t(34),B=t(96),W=function(e){function a(){return Object(c.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"home"},l.a.createElement(q,null),l.a.createElement(J,null))}}]),a}(n.Component),q=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).createAlbumActive=function(){t.setState({isAlbumCreate:!0})},t.createAlbum=function(e){for(var a=t.state.albumData.slice(),r=0,s=0;s<a.length;s++)a[s].title===e.albumName&&r++;if(r)var n={albumImg:"",description:e.albumDesc,songs:[],title:e.albumName};a.push(n),t.setState({albumData:a,isAlbumCreate:!1})},t.setAlbumTitle=function(e){t.setState({albumTitle:t.state.albumData[e].album_title})},t.state={currentCard:0,position:0,loaderdata:["","","",""],cardStyle:{transform:"translateX(0px)"},width:0,albumData:[],isAlbumCreate:!1,isDataAlive:!1,albumTitle:"Albums",isDataLoaded:!1},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(I.a)(T.a.mark(function e(){var a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.props.albumData){e.next=4;break}this.setState({albumData:this.props.albumData,isDataAlive:!0,isDataLoaded:!0}),e.next=8;break;case 4:return e.next=6,E.a.get(N+"/albums/getAllAlbums").then(function(e){return void 0===e.data||null===e.data?"Server Down":e.data.slice(1,10)});case 6:void 0===(a=e.sent)?console.log("server unavailable"):this.setState({albumData:a,isDataAlive:!0,isDataLoaded:!0});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={display:"Albums"===this.props.albumTitle?"block":"none"},a={display:this.state.isDataAlive?"block":"none"};return this.state.isAlbumCreate?l.a.createElement(V,{createAlbum:this.createAlbum}):l.a.createElement("div",null,this.state.isDataLoaded?l.a.createElement("div",{className:"album container-fluid",style:a},l.a.createElement("div",{className:"cards-slider row"},l.a.createElement("div",{className:"col-md-9"},l.a.createElement("h3",null,l.a.createElement(M.b,{to:"/MusicHuntPro/album"},void 0!==this.props.title?this.props.title:"Album"),"Albums"!==this.state.albumTitle?l.a.createElement("span",null,"\xa0>\xa0",this.state.albumTitle):"")),l.a.createElement("div",{className:"btn btn-success create-albm-btn",style:e,onClick:this.createAlbumActive},"Create Album")),l.a.createElement("hr",{className:"album-hr"}),l.a.createElement("div",{className:"album-content"},l.a.createElement(G,{cardStyle:this.state.cardStyle,albumData:this.state.albumData,albumTitle:this.setAlbumTitle}))):l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"loader-box row"},this.state.loaderdata.map(function(e,a){return l.a.createElement("div",{className:"col",key:a},l.a.createElement("div",{className:"loader-card"},l.a.createElement("div",{className:"loader-img mx-auto"}),l.a.createElement("div",{className:"loader-title mx-auto"}),l.a.createElement("div",{className:"loader-title mx-auto"}),l.a.createElement("div",{className:"loader-fav ml-auto"})))}))))}}]),a}(n.Component),V=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).updateAlbumDetails=function(e){t.setState(Object(g.a)({},e.target.name,e.target.value))},t.state={albumName:"",albumDesc:"",albumImg:"",songs:[]},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"create-album-main container"},l.a.createElement("h2",null,"Create Your Album "),l.a.createElement("hr",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("form",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("label",{htmlFor:"abmName"},"Name"),l.a.createElement("input",{type:"text",className:"form-control ml-auto",id:"abmName",placeholder:"Enter Album Name",onChange:this.updateAlbumDetails,name:"albumName",autoComplete:"current-username",required:!0})),l.a.createElement("div",{className:"col ml-auto"},l.a.createElement("label",{htmlFor:"abmDesc"},"Description"),l.a.createElement("input",{type:"text",className:"form-control ml-auto",id:"abmName",placeholder:"Enter Album Name",onChange:this.updateAlbumDetails,name:"albumDesc",autoComplete:"current-username",required:!0}))),l.a.createElement("div",{className:"form-group text-center create-abm-upload"},l.a.createElement(L.a,{className:"files-dropzone album-img-upload btn btn-primary btn-sm",accepts:["image/*"],multiple:!0,maxFiles:10,maxFileSize:1e7,minFileSize:0,clickable:!0},"Upload Album Cover")),l.a.createElement("div",{className:"form-group text-center create-abm-upload"},l.a.createElement(L.a,{className:"files-dropzone album-songs-upload btn btn-primary btn-sm",accepts:["audio/*"],multiple:!0,maxFiles:10,maxFileSize:1e7,minFileSize:0,clickable:!0},"Upload Songs")),l.a.createElement("div",{className:"btn btn-sm btn-outline-success",onClick:this.props.createAlbum.bind(this,this.state)},"Create"))),l.a.createElement("div",{className:"col"},"uploaded image and songs will display here")))}}]),a}(n.Component),G=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).getTracks=function(e){_(t.props.albumData[e].album_id).then(function(a){void 0===a.dataset?console.log("server unavailable"):(t.props.albumTitle(e),t.setState({tracksData:a.dataset,isSongsShown:!0}))})},t.setFavour=function(e,a){var r=localStorage.getItem("musicHuntUser");if(null!==r&&void 0!==r){w({userName:r,albumId:a}).then(function(e){});var s=t.state.userFavouriteTracks.slice();s[e].isFavourite=!0,t.setFavouriteFirst(s)}},t.removeFavour=function(e,a){var r=localStorage.getItem("musicHuntUser");if(null!==r&&void 0!==r){S({userName:r,albumId:a}).then(function(e){});var s=t.state.userFavouriteTracks.slice();s[e].isFavourite=!1,t.setFavouriteFirst(s)}},t.state={albumsData:[],tracksData:[],isSongsShown:!1,favouriteCount:0,userFavouriteTracks:[],tracksBoolval:[],isUserActive:!1},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(I.a)(T.a.mark(function e(){var a,t,r,s,n,l,i,o,c,m;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(a=localStorage.getItem("musicHuntUser"))||null===a){e.next=9;break}return t=[],e.next=5,k({userName:a}).then(function(e){return e.albumId});case 5:if(void 0!==(r=e.sent)){for(s=this.props.albumData.slice(),n=s.map(function(e){var a=Object.assign({},e),t=0;return r.forEach(function(a){a===e.album_id&&t++}),a.isFavourite=t>0,a}),l=0;l<n.length;l++)n[l].isFavourite&&(i=n[l],n.splice(l,1),n.unshift(i));for(console.log(n),console.log(t),o=0;o<n.length;o++)t.push(n[o].isFavourite);this.setState({userFavouriteTracks:n,tracksBoolval:t,isUserActive:!0})}else c=this.props.albumData.slice(),console.log(c),this.setState({userFavouriteTracks:c,isUserActive:!0});e.next=12;break;case 9:m=this.props.albumData.slice(),console.log(m),this.setState({userFavouriteTracks:m});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setFavouriteFirst",value:function(e){console.log(e);var a=localStorage.getItem("musicHuntUser");if(void 0!==a&&null!==a){for(var t=0;t<e.length;t++)if(e[t].isFavourite){var r=e[t];e.splice(t,1),e.unshift(r)}for(var s=[],n=0;n<e.length;n++)s.push(e[n].isFavourite);this.setState({tracksBoolval:s,userFavouriteTracks:e})}}},{key:"render",value:function(){var e=this,a={flexWrap:window.location.href.includes("album")?"none":"nowrap"};return this.state.isSongsShown?l.a.createElement(K,{tracksData:this.state.tracksData}):l.a.createElement("div",{className:"album-card text-center row",style:a},this.state.userFavouriteTracks.map(function(a,t){return l.a.createElement("div",{className:"card col-md-3",id:"card",style:e.props.cardStyle,key:t},l.a.createElement("div",{className:"row",onClick:e.getTracks.bind(e,t)},l.a.createElement("img",{src:a.album_image_file,className:"card-img-top mx-auto img-thumbnail",alt:"..."}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},l.a.createElement("b",null,"Title  :")," ",a.album_title),l.a.createElement("span",null,l.a.createElement("b",null,"Tracks : "),a.album_tracks))),l.a.createElement("div",{className:"row pull-right card-fa-heart"},e.state.isUserActive?e.state.tracksBoolval[t]?l.a.createElement("i",{className:"fa fa-heart add-favourite",onClick:e.removeFavour.bind(e,t,a.album_id),title:"Remove to favourite"}):l.a.createElement("i",{className:"fa fa-heart-o add-favourite",onClick:e.setFavour.bind(e,t,a.album_id),title:"Add to favourite"}):""))}))}}]),a}(n.Component),K=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this))).componentDidMount=function(){void 0===t.props.tracksData||t.setState({songsData:t.props.tracksData})},t.state={songsData:[]},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"song-content"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h4",null,void 0!==this.props.title?this.props.title:"SONGS")),l.a.createElement("div",{className:"col-md-2 mr-auto"},l.a.createElement("h5",null,this.state.songsData.length," Songs"))),l.a.createElement("hr",null),l.a.createElement("div",{className:"row text-center song-header"},l.a.createElement("div",{className:"col"}),l.a.createElement("div",{className:"col"}),l.a.createElement("div",{className:"col"}),l.a.createElement("div",{className:"col"}),l.a.createElement("div",{className:"col"})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-3 ml-auto"},void 0!==this.props.tracksData[0]?l.a.createElement("img",{src:this.props.tracksData[0].track_image_file,alt:"Album",className:"img-thumbnail"}):""),l.a.createElement("div",{className:"col-md-9"},this.state.songsData.map(function(e,a){return l.a.createElement(R,{songData:e,index:a,key:a})})))))}}]),a}(n.Component),Y=function(e){function a(){return Object(c.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"allCards"})}}]),a}(n.Component),J=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={userFavouriteList:[],userFavouriteTrackList:[],isUserActive:!1},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(I.a)(T.a.mark(function e(){var a,t,r,s,n,l;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("musicHuntUser"),t=[],null===a||void 0===a){e.next=17;break}return e.next=5,k({userName:a});case 5:if(void 0===(r=e.sent).albumId){e.next=17;break}return e.next=9,Promise.all(r.albumId.map(function(e){return e}));case 9:return s=e.sent,e.next=12,Promise.all(s.map(function(e){return _(e)}));case 12:return n=e.sent,e.next=15,Promise.all(n.map(function(e){if(void 0!==e.dataset)return e.dataset.map(function(e){return e})}));case 15:void 0!==(l=e.sent)&&l.length>0&&(l.forEach(function(e){void 0!==e&&e.forEach(function(e){t.push(e)})}),this.setState({userFavouriteList:t,isUserActive:!0}));case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return l.a.createElement("div",null,this.state.isUserActive?l.a.createElement("div",{className:"favourites container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"mr-auto"},l.a.createElement("h5",null,"Favourites")),l.a.createElement("div",{className:"ml-auto"},this.state.userFavouriteList.length," Songs")),l.a.createElement("hr",null),this.state.userFavouriteList.map(function(e,a){return l.a.createElement(R,{songData:e,key:a})})):"")}}]),a}(n.Component),X=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).componentDidMount=function(){var e=localStorage.getItem("musicHuntUser");null!==e&&void 0!==e&&P(e).then(function(e){var a={firstName:e.firstName,lastName:e.lastName,userName:e.userName,email:e.email,profile_img:"undefined"!==localStorage.getItem("musicHuntUserProfile")&&void 0!==localStorage.getItem("musicHuntUserProfile")?localStorage.getItem("musicHuntUserProfile"):""},r="undefined"!==localStorage.getItem("musicHuntUserProfile")&&void 0!==localStorage.getItem("musicHuntUserProfile")?localStorage.getItem("musicHuntUserProfile"):"",s=B(r,"image/jpg"),n=URL.createObjectURL(s);t.setState({firstName:a.firstName,lastName:a.lastName,userName:a.userName,email:a.email,profile_img:n})})},t.onChange=function(e){var a;t.setState((a={},Object(g.a)(a,e.target.name,e.target.value),Object(g.a)(a,"isChanged",!1),a))},t.togglePassword=function(){t.setState({isPasswordChange:!0})},t.changeUserDetails=function(){var e=t.state.updatedDetails;console.log(e);var a=0;localStorage.getItem("musicHuntUser")!==t.state.userName?e.userName=t.state.userName:(e.userName="",a++),t.state.isPasswordChange&&(""!==t.state.currentPassword&&""!==t.state.currentPassword?t.state.currentPassword!==t.state.changedPassword&&(e.currentPassword=t.state.currentPassword,e.changedPassword=t.state.changedPassword):console.log("Equal")),2!==a&&O(e).then(function(e){console.log(e)})},t.changeProfileImage=function(e){var a=e[e.length-1];j()(a.preview.url).then(function(e){t.setState({updatedDetails:Object(s.a)({},t.state.updatedDetails,{profile_image:e,preview_image:a.preview.url}),isChanged:!1})})},t.onFilesError=function(e){console.log(e)},t.state={firstName:"",lastName:"",userName:"",email:"",password:"",profile_img:"",isChanged:!0,isPasswordChange:!1,currentPassword:"",changedPassword:"",updatedDetails:{profile_image:"",preview_image:"",userName:"",currentPassword:"",changedPassword:""}},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"profile container"},l.a.createElement("form",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-3"},"undefined"!==localStorage.getItem("musicHuntUserProfile")&&void 0!==localStorage.getItem("musicHuntUserProfile")?l.a.createElement("div",null,l.a.createElement("div",{className:"row"},""!==this.state.updatedDetails.preview_image?l.a.createElement("img",{src:this.state.updatedDetails.preview_image,className:"img-thumbnail profile-image mx-auto",alt:"Profile"}):l.a.createElement("img",{src:this.state.profile_img,className:"img-thumbnail profile-image mx-auto",alt:"Profile 1"})),l.a.createElement("div",{className:"row profile-upload-btn"},l.a.createElement(L.a,{className:"files-dropzone",onChange:this.changeProfileImage,onError:this.onFilesError,accepts:["image/*"],multiple:!0,maxFiles:10,maxFileSize:2e5,minFileSize:0,clickable:!0},l.a.createElement("div",{className:"btn btn-sm btn-primary mx-auto"},"Change Image")))):""),l.a.createElement("div",{className:"col middle-profile"},l.a.createElement("div",{className:"form-group form-inline"},l.a.createElement("label",{htmlFor:"firstname",className:"mr-auto"},"First Name"),l.a.createElement("input",{type:"text",className:"form-control",id:"firstname",name:"firstName",onChange:this.onChange.bind(this),value:this.state.firstName,disabled:!0})),l.a.createElement("div",{className:"form-group form-inline"},l.a.createElement("label",{htmlFor:"lastname",className:"mr-auto"},"Last Name"),l.a.createElement("input",{type:"text",className:"form-control",id:"lastname",name:"lastName",onChange:this.onChange.bind(this),value:this.state.lastName,disabled:!0})),l.a.createElement("div",{className:"form-group form-inline"},l.a.createElement("label",{htmlFor:"username",className:"mr-auto"},"User Name"),l.a.createElement("input",{type:"text",className:"form-control",id:"username",name:"userName",onChange:this.onChange.bind(this),value:this.state.userName})),l.a.createElement("div",{className:"form-group form-inline"},l.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"mr-auto"},"Email address"),l.a.createElement("input",{type:"email",className:"form-control",id:"email",onChange:this.onChange.bind(this),value:this.state.email,placeholder:"Enter email",disabled:!0}))),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"btn btn-primary",onClick:this.togglePassword},"Change Password"),this.state.isPasswordChange?l.a.createElement("div",null,l.a.createElement("div",{className:"form-group form-inline"},l.a.createElement("label",{htmlFor:"currentPassword",className:"mr-auto"},"Current Password"),l.a.createElement("input",{type:"password",className:"form-control",name:"currentPassword",onChange:this.onChange.bind(this),value:this.state.currentPassword})),l.a.createElement("div",{className:"form-group form-inline"},l.a.createElement("label",{htmlFor:"changedPassword",className:"mr-auto"},"Password"),l.a.createElement("input",{type:"password",className:"form-control",name:"changedPassword",onChange:this.onChange.bind(this),value:this.state.changedPassword}))):"")),l.a.createElement("div",{className:"row profile-update-btn"},l.a.createElement("input",{type:"button",className:"btn btn-success mx-auto",onClick:this.changeUserDetails,disabled:this.state.isChanged,value:"Save Changes"}))))}}]),a}(n.Component),$=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).componentDidMount=function(){null!==localStorage.getItem("musicHunt")&&t.setState({isUserActive:!0}),console.log(t.props)},t.logout=function(){localStorage.clear(),t.setState({isUserActive:!1})},t.loginUser=function(){t.setState({isUserActive:!0})},t.toggleActive=function(e){t.setState({activeLink:e})},t.setSearchWord=function(e){t.setState(Object(g.a)({},e.target.name,e.target.value))},t.state={isUserActive:!1,activeLink:"Home",albumData:[],searchExist:!1,searchKeyWord:"",searchErrorText:"",audioLists:[{name:"First song 1",singer:"Madhan",cover:"https://freemusicarchive.org/file/images/tracks/Track_-_20110118110252018",musicSrc:"http://freemusicarchive.org/music/Broke_For_Free/Directionless_EP/Broke_For_Free_-_Directionless_EP_-_01_Night_Owl/download"},{name:"First song",singer:"Madhan",cover:"https://freemusicarchive.org/file/images/tracks/Track_-_20110118110252018",musicSrc:function(){return Promise.resolve("http://freemusicarchive.org/music/Broke_For_Free/Directionless_EP/Broke_For_Free_-_Directionless_EP_-_01_Night_Owl/download")}}]},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"searchAlbum",value:function(){var e=Object(I.a)(T.a.mark(function e(a){var t;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""===this.state.searchKeyWord){e.next=6;break}return console.log(this.state.searchKeyWord),e.next=4,a=this.state.searchKeyWord,E.a.get(N+"/albums/search",{params:{searchKey:a}}).then(function(e){return e.data.length>0&&void 0!==e.data?e.data:"No Albums Found"});case 4:"No Albums Found"===(t=e.sent)?this.setState({searchErrorText:"No Search found for "+this.state.searchKeyWord}):this.setState({albumData:t,searchExist:!0,searchErrorText:""});case 6:case"end":return e.stop()}var a},e,this)}));return function(a){return e.apply(this,arguments)}}()},{key:"searchOnEnter",value:function(e){13===e.keyCode?this.searchAlbum():""===this.state.searchKeyWord&&this.setState({searchExist:!1,searchErrorText:""})}},{key:"render",value:function(){return l.a.createElement("div",{className:"section container-fluid"},l.a.createElement(M.a,null,l.a.createElement("div",{className:"section-aside"},l.a.createElement("ul",null,l.a.createElement(M.b,{to:"/MusicHuntPro"},l.a.createElement("li",{className:"section-nav-link "+("Home"===this.state.activeLink?"active":""),onClick:this.toggleActive.bind(this,"Home")},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"mr-auto"},"Home"),l.a.createElement("div",{className:"ml-auto"},l.a.createElement("i",{className:"fa fa-home","aria-hidden":"true"}))))),l.a.createElement(M.b,{to:"/MusicHuntPro/album"},l.a.createElement("li",{className:"section-nav-link "+("Albums"===this.state.activeLink?"active":""),onClick:this.toggleActive.bind(this,"Albums")},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"mr-auto"},"Albums"),l.a.createElement("div",{className:"ml-auto"},l.a.createElement("i",{className:"fa fa-folder-open-o","aria-hidden":"true"}))))),l.a.createElement(M.b,{to:"/MusicHuntPro/favourites"},l.a.createElement("li",{className:"section-nav-link "+("Favourites"===this.state.activeLink?"active":""),onClick:this.toggleActive.bind(this,"Favourites")},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"mr-auto"},"Favourites"),l.a.createElement("div",{className:"ml-auto"},l.a.createElement("i",{className:"fa fa-heart","aria-hidden":"true"}))))),l.a.createElement(M.b,{to:"/MusicHuntPro/profile"},l.a.createElement("li",{className:"section-nav-link "+("Profile"===this.state.activeLink?"active":""),onClick:this.toggleActive.bind(this,"Profile")},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"mr-auto"},"Profile"),l.a.createElement("div",{className:"ml-auto"},l.a.createElement("i",{className:"fa fa-user-o","aria-hidden":"true"}))))),l.a.createElement("li",null,l.a.createElement("div",{className:"row",onClick:this.logout},l.a.createElement("div",{className:"mr-auto"},this.state.isUserActive?l.a.createElement("div",{onClick:this.logout},"Logout"):l.a.createElement("div",{"data-toggle":"modal","data-target":"#myModal",onClick:this.loginUser},"Login")),l.a.createElement("div",{className:"ml-auto"},l.a.createElement("i",{className:"fa fa-sign-out","aria-hidden":"true"})))))),l.a.createElement("div",{className:"section-content"},l.a.createElement("div",{className:"row search-bar"},l.a.createElement("div",{className:"input-group col-md-12"},l.a.createElement("input",{className:"form-control",type:"search",placeholder:"Search for Albums",name:"searchKeyWord",onChange:this.setSearchWord.bind(this),onKeyDown:this.searchOnEnter.bind(this)}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("div",{className:"dropdown"},l.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:this.searchAlbum.bind(this)},l.a.createElement("i",{className:"fa fa-search"}))))),""!==this.state.searchErrorText?l.a.createElement("div",{className:"search-error-text"},this.state.searchErrorText):""),l.a.createElement("div",{className:"section-content-album"},this.state.searchExist?l.a.createElement(q,{albumData:this.state.albumData,title:"Albums"}):l.a.createElement(z.d,null,l.a.createElement(z.a,{exact:!0,from:"/",to:"/MusicHuntPro"}),l.a.createElement(z.b,{exact:!0,path:"/MusicHuntPro",render:function(){return l.a.createElement(W,null)}}),l.a.createElement(z.b,{exact:!0,path:"/MusicHuntPro/album",render:function(){return l.a.createElement(q,{title:"Albums"})}}),l.a.createElement(z.b,{exact:!0,path:"/MusicHuntPro/song",render:function(){return l.a.createElement(K,null)}}),l.a.createElement(z.b,{path:"/MusicHuntPro/allcards",render:function(){return l.a.createElement(Y,null)}}),l.a.createElement(z.b,{exact:!0,path:"/MusicHuntPro/favourites",render:function(){return l.a.createElement(J,null)}}),l.a.createElement(z.b,{exact:!0,path:"/MusicHuntPro/profile",render:function(){return l.a.createElement(X,null)}}))))))}}]),a}(n.Component);Object(U.b)(function(e){return{musicPlayListReducer:e.musicPlayListReducer}},function(e){return{setCurrent:function(a){e({type:"SET_CURRENT",payload:a})},setPlayList:function(a){e({type:"SET_PLAYLIST",payload:a})}}})($);var Q=$,Z=t(96),ee=t.n(Z),ae=t(139),te=t.n(ae),re=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).componentDidMount=function(){if(void 0!==localStorage.getItem("musicHuntuser")&&null!==localStorage.getItem("musicHuntUser")){var e=localStorage.getItem("musicHuntUserProfile");if("undefined"!==localStorage.getItem("musicHuntUserProfile")&&null!==localStorage.getItem("musicHuntUserProfile")){var a=ee()(e,"image/jpg"),r=URL.createObjectURL(a);t.setState({isUserActive:!0,userName:localStorage.getItem("musicHuntUser"),profile_img:r})}t.setState({isUserActive:!0})}h.b.configure({autoClose:1e3}),console.log(t.props.musicPlayListReducer.audioLists)},t.alertToSignIn=function(){h.b.success("Login to set your favourite tracks",{position:h.b.POSITION.TOP_RIGHT})},t.state={isUserActive:!1,userName:"",audioLists:[],autoPlay:!1,profile_img:""},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(h.a,{autoClose:1500}),l.a.createElement("nav",{className:"navbar navbar-expand-md bg-dark navbar-dark fixed-top"},l.a.createElement("img",{src:te.a,alt:"Music Hunt",className:"nav-img"}),l.a.createElement("a",{className:"navbar-brand",href:"/"},l.a.createElement("h3",null,"Music Hunt")),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"collapsibleNavbar"},this.state.isUserActive,this.state.isUserActive?l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"/"},""===this.state.profile_img?l.a.createElement("span",{className:"fa fa-user-circle-o"}):l.a.createElement("img",{src:this.state.profile_img,className:"navbar-image",alt:"profile"})))):l.a.createElement("div",null))),l.a.createElement("div",{className:"section-content-main"},l.a.createElement(Q,null),l.a.createElement(M.a,null,l.a.createElement(A,null))),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},console.log(this.props.musicPlayListReducer.isSongs),this.props.musicPlayListReducer.audioLists.length>0||this.props.musicPlayListReducer.songsList.length>0?this.props.musicPlayListReducer.isSongs?l.a.createElement(f.a,{panelTitle:"Songs",audioLists:this.props.musicPlayListReducer.songsList,defaultPosition:{top:600,left:100},draggable:!0,bounds:"",autoPlay:!0}):l.a.createElement(f.a,{audioLists:this.props.musicPlayListReducer.audioLists,defaultPosition:{top:600,left:100},draggable:!0,bounds:"",autoPlay:!1}):"")))}}]),a}(n.Component),se=Object(U.b)(function(e){return{musicPlayListReducer:e.musicPlayListReducer}},function(e){return{setCurrent:function(a){e({type:"SET_CURRENT",payload:a})},setPlayList:function(a){e({type:"SET_PLAYLIST",payload:a})}}})(re);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=t(45),le=Object(ne.d)(Object(ne.c)({musicPlayListReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{audioLists:[],currentPlaying:0,lastPlayed:0,defaultPlayIndex:0,songsList:[],playIndex:0,isUserActive:!1,isSongs:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CURRENT":e=Object(s.a)({},e,{currentPlaying:a.payload});break;case"SET_PLAYLIST":e=Object(s.a)({},e,{audioLists:[].concat(Object(r.a)(e.audioLists),[a.payload]),isSongs:!1});break;case"SET_LAST_PLAYED":e=Object(s.a)({},e,{lastPlayed:a.payload});break;case"SET_SONGSLIST":e=Object(s.a)({},e,{songsList:[Object(s.a)({},a.payload)],isSongs:!0});break;case"SET_USER_ACTIVE":e=Object(s.a)({},e,{isSongs:a.payload});break;default:e=Object(s.a)({},e)}return e}}),{},Object(ne.a)(function(e){return function(e){return function(a){console.log("Logged Action",a),e(a)}}}));le.subscribe(function(){console.log("Updated Store",le.getState())}),o.a.render(l.a.createElement(U.a,{store:le},l.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[141,1,2]]]);
//# sourceMappingURL=main.fa31a2e9.chunk.js.map